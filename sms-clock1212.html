<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WHS Clock</title>
    <link rel="icon" type="image/x-icon" href="https://r2.e-z.host/13985022-a2bd-482f-bea2-18ff85c0dc2e/4s3ejiz9.png">
    <style>
        body {
            background-image: url('https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_1280.jpg');
            background-color: #5f8df7;
            background-size: cover;
        }

        #remaining-time {
            font-size: 2.5vw;
            color: #ff0000;
        }

        .text {
            color: #44ff00;
            font-size: 1.32vw;
        }

        h1 {
            color: #66ff00;
            text-align: center;
            font-size: 3.64vw;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            float: right;
        }

        nav ul li {
            display: inline;
            padding: 10px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
        }

        .content {
            margin-top: 25px;
        }

        /* Dropdown styles */
        select {
            font-size: 1.5vw;
            margin: 20px;
        }
    </style>
</head>
<body>
    <p></p>
    <nav>
        <ul></ul>
    </nav>

    <h1 id="current-period">School is not in session at the moment</h1>
    <span id="remaining-time"></span>

    <div class="text">
        Class start and end times apply to 8th grade. Other grades may not be correct.
    </div>
    <div class="text">
        Period 1: 8:00 - 8:51
    </div>
    <div class="text">
        Period 2: 8:53 - 9:48
    </div>
    <div class="text">
        Period 3: 9:50 - 10:45
    </div>
    <div class="text">
        Period 4: 10:47 - 11:42
    </div>
    <div class="text">
        Period 5: 11:44 - 12:34
    </div>

    <!-- Dropdown for lunch selection -->
    <select id="lunch-select">
        <option value="first">First Lunch</option>
        <option value="second">Second Lunch</option>
    </select>

    <div class="text" id="lunch-info"></div>

    <div class="text">
        Period 6 (for First Lunch): 12:55 - 1:54
    </div>
    <div class="text">
        Period 6 (for Second Lunch): 1:20 - 2:40
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Define periods and lunch specifics
            var periods = [
                { start: "07:49:00", end: "07:59:00", name: "Intermission" },
                { start: "08:00:00", end: "08:51:00", name: "Period 1" },
                { start: "08:53:00", end: "09:48:00", name: "Period 2" },
                { start: "09:50:00", end: "10:45:00", name: "Period 3" },
                { start: "10:47:00", end: "11:42:00", name: "Period 4" },
                { start: "11:44:00", end: "12:34:00", name: "Period 5" },
            ];

            // Define lunch timings
            var lunchSchedules = {
                first: {
                    lunchStart: "12:34:00",
                    lunchEnd: "12:55:00",
                    classStart: "12:55:00",
                    classEnd: "13:54:00",
                    text: "First Lunch: Enjoy your meal!"
                },
                second: {
                    lunchStart: "12:55:00",
                    lunchEnd: "13:20:00",
                    classStart: "13:20:00",
                    classEnd: "14:40:00",
                    text: "Second Lunch: Enjoy your meal!"
                }
            };

            function getCurrentPeriod() {
                var currentTime = new Date();
                var currentPeriod = "School is not in session at the moment";
                var secondsRemaining = 0;

                // Check for instructional periods
                periods.forEach(function(period) {
                    var startDateObj = new Date();
                    var endDateObj = new Date();
                    var [sh, sm] = period.start.split(":").map(Number);
                    var [eh, em] = period.end.split(":").map(Number);
                    startDateObj.setHours(sh, sm);
                    endDateObj.setHours(eh, em);

                    if (currentTime >= startDateObj && currentTime <= endDateObj) {
                        currentPeriod = period.name;
                        secondsRemaining = Math.floor((endDateObj - currentTime) / 1000);
                    }
                });

                // Check lunch periods based on selection
                var lunchSelect = document.getElementById("lunch-select");
                var selectedLunch = lunchSelect.value;
                var schedule = lunchSchedules[selectedLunch];

                // Lunch Periods
                var lunchStartDateObj = new Date();
                var lunchEndDateObj = new Date();
                var classStartDateObj = new Date();
                var classEndDateObj = new Date();
                var [lh, lm] = schedule.lunchStart.split(":").map(Number);
                var [le, lems] = schedule.lunchEnd.split(":").map(Number);
                var [ch, cm] = schedule.classStart.split(":").map(Number);
                var [ceh, cem] = schedule.classEnd.split(":").map(Number);
                
                lunchStartDateObj.setHours(lh, lm);
                lunchEndDateObj.setHours(le, lems);
                classStartDateObj.setHours(ch, cm);
                classEndDateObj.setHours(ceh, cem);

                if (currentTime >= lunchStartDateObj && currentTime <= lunchEndDateObj) {
                    currentPeriod = schedule.text;
                    secondsRemaining = Math.floor((lunchEndDateObj - currentTime) / 1000);
                } else if (currentTime >= classStartDateObj && currentTime <= classEndDateObj) {
                    currentPeriod = `Class After ${selectedLunch.charAt(0).toUpperCase() + selectedLunch.slice(1)} Lunch`;
                    secondsRemaining = Math.floor((classEndDateObj - currentTime) / 1000);
                }

                return { period: currentPeriod, secondsRemaining: secondsRemaining };
            }

            function updateCurrentPeriod() {
                var currentData = getCurrentPeriod();
                var h1 = document.getElementById("current-period");
                var timer = document.getElementById("remaining-time");
                var lunchInfo = document.getElementById("lunch-info");

                if (h1) {
                    h1.textContent = currentData.period;
                }
                if (timer) {
                    timer.textContent = currentData.secondsRemaining > 0 ? "Time remaining: " + formatTime(currentData.secondsRemaining) : "";
                }

                // Update lunch information based on selection
                lunchInfo.textContent = lunchSchedules[lunchSelect.value].text;
            }

            function formatTime(seconds) {
                var hours = Math.floor(seconds / 3600);
                var minutes = Math.floor((seconds % 3600) / 60);
                var secs = seconds % 60;
                return hours + " hours " + minutes + " minutes " + secs + " seconds";
            }

            document.getElementById("lunch-select").addEventListener("change", updateCurrentPeriod);
            updateCurrentPeriod();
            setInterval(updateCurrentPeriod, 1000);
        });
    </script>

</body>
</html>




